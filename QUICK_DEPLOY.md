# 🚀 راهنمای سریع استقرار آنلاین

## روش 1: Railway (پیشنهادی - ساده‌ترین) ⭐

### مرحله 1: ثبت‌نام در Railway

1. به [railway.app](https://railway.app) بروید
2. روی **"Start a New Project"** کلیک کنید
3. **"Login with GitHub"** را انتخاب کنید
4. اجازه دسترسی به GitHub را بدهید

### مرحله 2: استقرار پروژه

1. بعد از ورود، روی **"New Project"** کلیک کنید
2. **"Deploy from GitHub repo"** را انتخاب کنید
3. Repository **`city.map`** را پیدا کنید و انتخاب کنید
4. Railway به صورت خودکار:
   - پروژه را تشخیص می‌دهد (Next.js)
   - Build را شروع می‌کند
   - Deploy می‌کند

### مرحله 3: دریافت لینک

1. بعد از 2-3 دقیقه، deploy تمام می‌شود
2. روی پروژه کلیک کنید
3. در بخش **"Settings"** > **"Networking"**:
   - روی **"Generate Domain"** کلیک کنید
   - یا یک domain سفارشی اضافه کنید
4. لینک پروژه شما آماده است! 🎉

### مزایای Railway:
- ✅ رایگان برای شروع ($5 اعتبار رایگان)
- ✅ SQLite به خوبی کار می‌کند
- ✅ استقرار خودکار از GitHub
- ✅ بدون نیاز به تنظیمات پیچیده

---

## روش 2: Render (رایگان)

### مرحله 1: ثبت‌نام

1. به [render.com](https://render.com) بروید
2. روی **"Get Started for Free"** کلیک کنید
3. **"Sign up with GitHub"** را انتخاب کنید
4. اجازه دسترسی را بدهید

### مرحله 2: ایجاد Web Service

1. در داشبورد، روی **"New +"** کلیک کنید
2. **"Web Service"** را انتخاب کنید
3. Repository **`city.map`** را انتخاب کنید
4. روی **"Connect"** کلیک کنید

### مرحله 3: تنظیمات

1. **Name**: `city-map` (یا هر نامی که می‌خواهید)
2. **Region**: نزدیک‌ترین منطقه را انتخاب کنید
3. **Branch**: `main`
4. **Root Directory**: (خالی بگذارید)
5. **Runtime**: `Node`
6. **Build Command**: 
   ```
   npm install && npm run build
   ```
7. **Start Command**: 
   ```
   npm start
   ```
8. **Plan**: `Free` (یا `Starter` برای production)

### مرحله 4: Deploy

1. روی **"Create Web Service"** کلیک کنید
2. منتظر بمانید تا build و deploy شود (3-5 دقیقه)
3. لینک پروژه شما آماده است!

### نکته مهم Render:
- در Render، ممکن است نیاز باشد مسیر دیتابیس را تنظیم کنید
- فایل‌های دیتابیس در `/opt/render/project/src/database` ذخیره می‌شوند

---

## 🔍 بررسی استقرار

بعد از deploy:

1. لینک پروژه را باز کنید
2. اگر صفحه Next.js نمایش داده شد، موفق بود! ✅
3. اگر خطا دیدید، Logs را در Railway/Render بررسی کنید

---

## ⚙️ تنظیمات Environment Variables (در صورت نیاز)

اگر نیاز به تنظیمات خاصی دارید:

### در Railway:
1. پروژه > **"Variables"**
2. متغیرهای مورد نیاز را اضافه کنید:
   - `NODE_ENV=production`
   - `PORT=3000` (معمولاً خودکار است)

### در Render:
1. پروژه > **"Environment"**
2. متغیرهای مورد نیاز را اضافه کنید

---

## 🔄 به‌روزرسانی خودکار

هر دو پلتفرم به‌صورت خودکار از GitHub deploy می‌کنند:

1. تغییرات را در کد ایجاد کنید
2. Commit و Push کنید:
   ```bash
   git add .
   git commit -m "تغییرات جدید"
   git push
   ```
3. Railway/Render به‌صورت خودکار deploy می‌کند! 🚀

---

## 🆘 رفع مشکلات

### خطای Build

1. Logs را در Railway/Render بررسی کنید
2. مطمئن شوید `npm run build` در local کار می‌کند:
   ```bash
   npm run build
   ```

### خطای دیتابیس

1. مطمئن شوید پوشه `database` وجود دارد
2. در Render، ممکن است نیاز باشد مسیر دیتابیس را تنظیم کنید

### خطای Port

- Railway و Render به‌صورت خودکار PORT را تنظیم می‌کنند
- اگر مشکل داشتید، در `package.json` بررسی کنید

---

## 📊 مقایسه سریع

| ویژگی | Railway | Render |
|-------|---------|--------|
| رایگان | ✅ $5 اعتبار | ✅ محدود |
| SQLite | ✅ عالی | ✅ خوب |
| سرعت Deploy | ⚡ سریع | 🐢 متوسط |
| سادگی | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |

**پیشنهاد**: Railway را امتحان کنید - ساده‌تر و سریع‌تر است! 🚀

---

## ✨ نتیجه

بعد از deploy، پروژه شما:
- ✅ آنلاین و در دسترس است
- ✅ از هر جا قابل دسترسی است
- ✅ به‌صورت خودکار به‌روز می‌شود
- ✅ SQLite به خوبی کار می‌کند

**موفق باشید!** 🎉

